<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="copy">click me</div>
    <script>
      async function getFile() {
        // Open file picker and destructure the result the first handle
        const [fileHandle] = await window.showOpenFilePicker()
        const file = await fileHandle.getFile()
        return file
      }
      console.log(22)
      document.querySelector('#copy').addEventListener('click', async () => {
        const res = await getFile()
        console.log(333, res)

        const reader = new FileReader()
        reader.onload = (evt) => {
          // console.log(evt.target.result)
          navigator.clipboard.writeText(evt.target.result)
        }
        reader.readAsText(res)
      })
    </script>
  </body>
</html>
